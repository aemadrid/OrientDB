<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en" xmlns="http://www.w3.org/1999/html"><!--<![endif]-->
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
  <title>CAP Model |  OrientDB</title>
  <title>CAP Model</title>
  <link href="../stylesheets/foundation.min.css" media="screen" rel="stylesheet" type="text/css" />
<link href="../stylesheets/app.css" media="screen" rel="stylesheet" type="text/css" />
  <script src="../javascripts/modernizr.foundation.js" type="text/javascript"></script>
  
</head>
<body class="wiki wiki_CAP-Model">

<header>
  <div class="row">
    <div class="five columns">
      <h1>
        <a href="/">
          Orient<span class="highl">DB</span>
        </a>
        <span class="subtitle">The Document/Graph NoSQL Database</span>
      </h1>
    </div>
    <div class="seven columns right">
      <ul class="inline-list">
        <li><a href="/"> Home</a></li>
<li><a href="/about.html"> About</a></li>
<li class="active"><a href="/wiki/Home.html"> Documentation</a></li>
<li><a href="/wiki/Download.html"> Downloads</a></li>
<li><a href="/community.html"> Community</a></li>
      </ul>
    </div>
  </div>
</header>


<div class="page-header">
  <div class="row">
    <div class="twelve columns">
      <h2>
        <i class="icon-wiki"></i>
        CAP Model
        
          <ul class="bcs">
          
            <li><a href="/wiki/Home.html" class="nr1">Home</a></li>
          
          </ul>
        
        
      </h2>
    </div>
  </div>
</div>

<div id="main" class="row wiki">

  <div class="twelve columns content" role="content">

    <h3>Introduction</h3>

<p>Large distributed systems run into a problem which smaller systems don’t usually have to worry about. “Brewers CAP Theorem” defines this problem in a very simple way. It states, that though its desirable to have Consistency, High-Availability and Partition-tolerance in every system, unfortunately no system can achieve all three at the same time.</p>

<p>Following the <a href="http://en.wikipedia.org/wiki/CAP_theorem">CAP theorem</a> OrientDB supports <strong><code>CA</code></strong> while OrientKV supports <strong><code>AP</code></strong>.</p>

<h4>Consistency</h4>

<p>All nodes see the same data at the same time.</p>

<p>"A fully Consistent system is one where the system can guarantee that once you store a state (lets say “x=y”) in the system, it will report the same state in every subsequent operation until the imagestate is explicitly changed by something outside the system."</p>

<h4>Availability</h4>

<p>Node failures do not prevent survivors from continuing to operate.</p>

<h4>Partition-tolerance</h4>

<p>The system continues to operate despite arbitrary message loss.</p>

<h3>CAP model matrix</h3>

<table>
<tr>
<th>Usage</th>
<td>**(C)onsistency**</td>
<td>**(A)vailability**</td>
<td>**(P)artition-tolerance**</td>
</tr>
<tr>
<td>Local database</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
</tr>
<tr>
<td>Remote database</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
</tr>
<tr>
<td>Remote clustered database</td>
<td>Yes</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>Key/Value server</td>
<td>No</td>
<td>Yes</td>
<td>Yes</td>
</tr>
</table><h3>Disk-write strategies</h3>

<p>Orient, by default, is configured for synchronous writes but depending by the OS file system management changes can be permanents only after the OS flushes the buffer into the disk. If you're using a transaction you're protect in case any crash happens when data are not written to the disk yet.</p>

<p>For this reason Orient permits to change this policy.</p>

<h4>Synchronize all changes to the disk when any single-record is changed</h4>

<p>By default is false.</p>

<div class="highlight"><pre>  <span class="n">database</span><span class="o">.</span><span class="na">getStorage</span><span class="o">().</span><span class="na">getConfiguration</span><span class="o">().</span><span class="na">txSegment</span><span class="o">.</span><span class="na">setSynchRecord</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
</pre></div>

<h4>Synchronize all changes to the disk when a transaction is committed</h4>

<p>By default is true.</p>

<div class="highlight"><pre>  <span class="n">database</span><span class="o">.</span><span class="na">getStorage</span><span class="o">().</span><span class="na">getConfiguration</span><span class="o">().</span><span class="na">txSegment</span><span class="o">.</span><span class="na">setSynchTx</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
</pre></div>


  </div>

</div>

<footer>
  <div class="row">
    <div class="six columns">
      <ul class="inline-list">
        <li><a href="/"> Home</a></li>
<li><a href="/about.html"> About</a></li>
<li class="active"><a href="/wiki/Home.html"> Documentation</a></li>
<li><a href="/wiki/Download.html"> Downloads</a></li>
<li><a href="/community.html"> Community</a></li>
      </ul>
    </div>
    <div class="six columns">
      <p class="copyright">
        Copyright &copy; 2011-2012 NuvolaBase Ltd. <br/>
        <span class="small">NuvolaBase is a registered trademark. All Rights Reserved.</span>
      </p>
    </div>
  </div>
</footer>

<script src="../javascripts/app.js" type="text/javascript"></script>

</body>
</html>