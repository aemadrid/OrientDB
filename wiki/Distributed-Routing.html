<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en" xmlns="http://www.w3.org/1999/html"><!--<![endif]-->
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
  <title>Distributed Routing |  OrientDB</title>
  <title>Distributed Routing</title>
  <link href="../stylesheets/foundation.min.css" media="screen" rel="stylesheet" type="text/css" />
<link href="../stylesheets/app.css" media="screen" rel="stylesheet" type="text/css" />
  <script src="../javascripts/modernizr.foundation.js" type="text/javascript"></script>
  
</head>
<body class="wiki wiki_Distributed-Routing">

<header>
  <div class="row">
    <div class="five columns">
      <h1>
        <a href="/">
          Orient<span class="highl">DB</span>
        </a>
        <span class="subtitle">The Document/Graph NoSQL Database</span>
      </h1>
    </div>
    <div class="seven columns right">
      <ul class="inline-list">
        <li><a href="/"> Home</a></li>
<li><a href="/about.html"> About</a></li>
<li class="active"><a href="/wiki/Home.html"> Documentation</a></li>
<li><a href="/wiki/Download.html"> Downloads</a></li>
<li><a href="/community.html"> Community</a></li>
      </ul>
    </div>
  </div>
</header>


<div class="page-header">
  <div class="row">
    <div class="twelve columns">
      <h2>
        <i class="icon-wiki"></i>
        Distributed Routing
        
          <ul class="bcs">
          
            <li><a href="/wiki/Distributed-Architecture.html" class="nr1">Distributed Architecture</a></li>
          
            <li><a href="/wiki/Home.html" class="nr2">Home</a></li>
          
          </ul>
        
        
      </h2>
    </div>
  </div>
</div>

<div id="main" class="row wiki">

  <div class="twelve columns content" role="content">

    <h3>Introduction</h3>

<p>When OrientDB is running in <a class="internal present" href="/wiki/Distributed-Architecture.html">Distributed-Architecture</a>, uses a routing mechanism to:</p>

<ul>
<li>balance the load</li>
<li>assure there are no conflicts in the creation of new records</li>
</ul><p>!WORK IN PROGRESS!</p>

<h3>Distributed Hash Table</h3>

<p>The OrientDB <a class="internal present" href="/wiki/Distributed-Architecture.html">Distributed-Architecture</a> uses a <a href="http://en.wikipedia.org/wiki/Distributed_hash_table">Distributed Hash Table (DHT)</a> to dynamically create partition with ranges of keys.</p>

<h4>What is a DHT?</h4>

<p>Wikipedia explain quite well this concept.</p>

<p><em>"A distributed hash table (DHT) is a class of a decentralized distributed system that provides a lookup service similar to a hash table; (key, value) pairs are stored in a DHT, and any participating node can efficiently retrieve the value associated with a given key. Responsibility for maintaining the mapping from keys to values is distributed among the nodes, in such a way that a change in the set of participants causes a minimal amount of disruption. This allows a DHT to scale to extremely large numbers of nodes and to handle continual node arrivals, departures, and failures."</em></p>

<h3>How does it work ?</h3>

<p>Requests are always routed to the owner Server Node. Imagine this as a ring (DHT) where each Server Node is the owner of a part of the database. When a client updates a record, the request is always
forwarded to the owner node.</p>

<p><img src="http://www.orientdb.org/images/routing.png"></p>

<p>In this example <strong>Client #1</strong> is connected to the <strong>Server Node #3</strong> and it is updating a customer with ID 3,766. Now this portion of database is owned by <strong>Server Node #1</strong>, so the <strong>Server Node #3</strong> transparently routes the request to the <strong>Server Node #1</strong>.</p>

<p><strong>Server Node #1</strong> executes the update and send back the response to the <strong>Server Node #3</strong>. <strong>Server Node #3</strong> sends the response back to the client.</p>

<p>In this way doesn't matter where is connected the client and the client isn't aware about internal partitioning of the database, even because changes every time the cluster configuration changes.</p>

<p><img src="http://www.orientdb.org/images/routing-example.png"></p>

<h3>Isn't this slow ?</h3>

<p>Routing is usually associated with <a class="internal present" href="/wiki/Replication.html">Replication</a>. In this case the overhead is zero because the operation would be replicated against the <strong>Server Node #3</strong> as well, so with routing the flow is changed but no overhead is generated.</p>

<h3>Further readings</h3>

<p>Continue with:</p>

<ul>
<li><a class="internal present" href="/wiki/Distributed-Architecture.html">Distributed-Architecture</a></li>
<li><a class="internal present" href="/wiki/Replication.html">Replication</a></li>
<li><a class="internal present" href="/wiki/Distributed-Configuration.html">Distributed database configuration</a></li>
</ul>


  </div>

</div>

<footer>
  <div class="row">
    <div class="six columns">
      <ul class="inline-list">
        <li><a href="/"> Home</a></li>
<li><a href="/about.html"> About</a></li>
<li class="active"><a href="/wiki/Home.html"> Documentation</a></li>
<li><a href="/wiki/Download.html"> Downloads</a></li>
<li><a href="/community.html"> Community</a></li>
      </ul>
    </div>
    <div class="six columns">
      <p class="copyright">
        Copyright &copy; 2011-2012 NuvolaBase Ltd. <br/>
        <span class="small">NuvolaBase is a registered trademark. All Rights Reserved.</span>
      </p>
    </div>
  </div>
</footer>

<script src="../javascripts/app.js" type="text/javascript"></script>

</body>
</html>