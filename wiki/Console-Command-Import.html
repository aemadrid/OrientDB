<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en" xmlns="http://www.w3.org/1999/html"><!--<![endif]-->
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
  <title>Console Command Import |  OrientDB</title>
  <title>Console Command Import</title>
  <link href="../stylesheets/foundation.min.css" media="screen" rel="stylesheet" type="text/css" />
<link href="../stylesheets/app.css" media="screen" rel="stylesheet" type="text/css" />
  <script src="../javascripts/modernizr.foundation.js" type="text/javascript"></script>
  
</head>
<body class="orientdb orientdb_wiki orientdb_wiki_Console-Command-Import">

<header>
  <div class="row">
    <div class="five columns">
      <h1>
        <a href="/orientdb/">
          Orient<span class="highl">DB</span>
        </a>
        <span class="subtitle">The Document/Graph NoSQL Database</span>
      </h1>
    </div>
    <div class="seven columns right">
      <ul class="inline-list">
        <li><a href="/orientdb/"> Home</a></li>
<li><a href="/orientdb/about.html"> About</a></li>
<li class="active"><a href="/orientdb/wiki/Home.html"> Documentation</a></li>
<li><a href="/orientdb/wiki/Download.html"> Downloads</a></li>
<li><a href="/orientdb/community.html"> Community</a></li>
      </ul>
    </div>
  </div>
</header>


<div class="page-header">
  <div class="row">
    <div class="twelve columns">
      <h2>
        <i class="icon-orientdb"></i>
        Console Command Import
        
          <ul class="bcs">
          
            <li><a href="/orientdb/wiki/Console-Commands.html" class="nr1">Console Commands</a></li>
          
            <li><a href="/orientdb/wiki/Home.html" class="nr2">Home</a></li>
          
          </ul>
        
        
      </h2>
    </div>
  </div>
</div>

<div id="main" class="row wiki">

  <div class="twelve columns content" role="content">

    <h3>Import database</h3>

<p>Import a database to the current one opened. The input file is in <a href="http://en.wikipedia.org/wiki/JSON">JSON</a> format using the <a class="internal present" href="/orientdb/wiki/Export-Format.html">Export-Format</a> generated by <a class="internal present" href="/orientdb/wiki/Console-Command-Export.html">Console Command Export</a> tool. By default the file is compressed using the GZIP algorithm. The Export/Import commands allow to migrate between engine releases without loosing data.</p>

<p>Use the <a class="internal present" href="/orientdb/wiki/Console-Command-Export.html">Export</a> command to generate the JSON file to import.</p>

<h4>Syntax</h4>

<div class="highlight"><pre>  import database <span class="nt">&lt;input-file&gt;</span>
</pre></div>

<p>Where:</p>

<ul>
<li>input-file    Input file path</li>
</ul><h4>Example</h4>

<div class="highlight"><pre><span class="o">&gt;</span> <span class="kn">import</span> <span class="nn">database</span> <span class="nl">C:</span><span class="o">/</span><span class="n">temp</span><span class="o">/</span><span class="n">petshop</span><span class="o">.</span><span class="na">export</span>
<span class="n">Importing</span> <span class="n">records</span><span class="o">...</span>
<span class="o">-</span> <span class="n">Imported</span> <span class="n">records</span> <span class="n">into</span> <span class="n">the</span> <span class="n">cluster</span> <span class="err">'</span><span class="n">internal</span><span class="err">'</span><span class="o">:</span> <span class="mi">5</span> <span class="n">records</span>
<span class="o">-</span> <span class="n">Imported</span> <span class="n">records</span> <span class="n">into</span> <span class="n">the</span> <span class="n">cluster</span> <span class="err">'</span><span class="n">index</span><span class="err">'</span><span class="o">:</span> <span class="mi">4</span> <span class="n">records</span>
<span class="o">-</span> <span class="n">Imported</span> <span class="n">records</span> <span class="n">into</span> <span class="n">the</span> <span class="n">cluster</span> <span class="err">'</span><span class="k">default</span><span class="err">'</span><span class="o">:</span> <span class="mi">1022</span> <span class="n">records</span>
<span class="o">-</span> <span class="n">Imported</span> <span class="n">records</span> <span class="n">into</span> <span class="n">the</span> <span class="n">cluster</span> <span class="err">'</span><span class="n">orole</span><span class="err">'</span><span class="o">:</span> <span class="mi">3</span> <span class="n">records</span>
<span class="o">-</span> <span class="n">Imported</span> <span class="n">records</span> <span class="n">into</span> <span class="n">the</span> <span class="n">cluster</span> <span class="err">'</span><span class="n">ouser</span><span class="err">'</span><span class="o">:</span> <span class="mi">3</span> <span class="n">records</span>
<span class="o">-</span> <span class="n">Imported</span> <span class="n">records</span> <span class="n">into</span> <span class="n">the</span> <span class="n">cluster</span> <span class="err">'</span><span class="n">csv</span><span class="err">'</span><span class="o">:</span> <span class="mi">100</span> <span class="n">records</span>
<span class="o">-</span> <span class="n">Imported</span> <span class="n">records</span> <span class="n">into</span> <span class="n">the</span> <span class="n">cluster</span> <span class="err">'</span><span class="n">binary</span><span class="err">'</span><span class="o">:</span> <span class="mi">101</span> <span class="n">records</span>
<span class="o">-</span> <span class="n">Imported</span> <span class="n">records</span> <span class="n">into</span> <span class="n">the</span> <span class="n">cluster</span> <span class="err">'</span><span class="n">account</span><span class="err">'</span><span class="o">:</span> <span class="mi">1005</span> <span class="n">records</span>
<span class="o">-</span> <span class="n">Imported</span> <span class="n">records</span> <span class="n">into</span> <span class="n">the</span> <span class="n">cluster</span> <span class="err">'</span><span class="n">company</span><span class="err">'</span><span class="o">:</span> <span class="mi">9</span> <span class="n">records</span>
<span class="o">-</span> <span class="n">Imported</span> <span class="n">records</span> <span class="n">into</span> <span class="n">the</span> <span class="n">cluster</span> <span class="err">'</span><span class="n">profile</span><span class="err">'</span><span class="o">:</span> <span class="mi">9</span> <span class="n">records</span>
<span class="o">-</span> <span class="n">Imported</span> <span class="n">records</span> <span class="n">into</span> <span class="n">the</span> <span class="n">cluster</span> <span class="err">'</span><span class="n">whiz</span><span class="err">'</span><span class="o">:</span> <span class="mi">1000</span> <span class="n">records</span>
<span class="o">-</span> <span class="n">Imported</span> <span class="n">records</span> <span class="n">into</span> <span class="n">the</span> <span class="n">cluster</span> <span class="err">'</span><span class="n">address</span><span class="err">'</span><span class="o">:</span> <span class="mi">164</span> <span class="n">records</span>
<span class="o">-</span> <span class="n">Imported</span> <span class="n">records</span> <span class="n">into</span> <span class="n">the</span> <span class="n">cluster</span> <span class="err">'</span><span class="n">city</span><span class="err">'</span><span class="o">:</span> <span class="mi">55</span> <span class="n">records</span>
<span class="o">-</span> <span class="n">Imported</span> <span class="n">records</span> <span class="n">into</span> <span class="n">the</span> <span class="n">cluster</span> <span class="err">'</span><span class="n">country</span><span class="err">'</span><span class="o">:</span> <span class="mi">55</span> <span class="n">records</span>
<span class="o">-</span> <span class="n">Imported</span> <span class="n">records</span> <span class="n">into</span> <span class="n">the</span> <span class="n">cluster</span> <span class="err">'</span><span class="n">animalrace</span><span class="err">'</span><span class="o">:</span> <span class="mi">3</span> <span class="n">records</span>
<span class="o">-</span> <span class="n">Imported</span> <span class="n">records</span> <span class="n">into</span> <span class="n">the</span> <span class="n">cluster</span> <span class="err">'</span><span class="n">ographvertex</span><span class="err">'</span><span class="o">:</span> <span class="mi">102</span> <span class="n">records</span>
<span class="o">-</span> <span class="n">Imported</span> <span class="n">records</span> <span class="n">into</span> <span class="n">the</span> <span class="n">cluster</span> <span class="err">'</span><span class="n">ographedge</span><span class="err">'</span><span class="o">:</span> <span class="mi">101</span> <span class="n">records</span>
<span class="o">-</span> <span class="n">Imported</span> <span class="n">records</span> <span class="n">into</span> <span class="n">the</span> <span class="n">cluster</span> <span class="err">'</span><span class="n">graphcar</span><span class="err">'</span><span class="o">:</span> <span class="mi">1</span> <span class="n">records</span>
</pre></div>

<h4>Troubleshooting</h4>

<p>If during the importing you experience that "Imported cluster 'XXX' has id=6 different from the original: 5" means that your database was created with an ancient version of OrientDB:
</p><div class="highlight"><pre><span class="o">-</span> <span class="n">Creating</span> <span class="n">cluster</span> <span class="err">'</span><span class="n">company</span><span class="err">'</span><span class="o">...</span><span class="na">Error</span> <span class="n">on</span> <span class="n">database</span> <span class="kn">import</span> <span class="nn">happened</span> <span class="n">just</span> <span class="n">before</span> <span class="n">line</span> <span class="mi">16</span><span class="o">,</span> <span class="n">column</span> <span class="mi">52</span>
<span class="n">com</span><span class="o">.</span><span class="na">orientechnologies</span><span class="o">.</span><span class="na">orient</span><span class="o">.</span><span class="na">core</span><span class="o">.</span><span class="na">exception</span><span class="o">.</span><span class="na">OConfigurationException</span><span class="o">:</span> <span class="n">Imported</span> <span class="n">cluster</span> <span class="err">'</span><span class="n">company</span><span class="err">'</span> <span class="n">has</span> <span class="n">id</span><span class="o">=</span><span class="mi">6</span> <span class="n">different</span> <span class="n">from</span> <span class="n">the</span> <span class="nl">original:</span> <span class="mi">5</span>
        <span class="n">at</span> <span class="n">com</span><span class="o">.</span><span class="na">orientechnologies</span><span class="o">.</span><span class="na">orient</span><span class="o">.</span><span class="na">core</span><span class="o">.</span><span class="na">db</span><span class="o">.</span><span class="na">tool</span><span class="o">.</span><span class="na">ODatabaseImport</span><span class="o">.</span><span class="na">importClusters</span><span class="o">(</span><span class="n">ODatabaseImport</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">500</span><span class="o">)</span>
        <span class="n">at</span> <span class="n">com</span><span class="o">.</span><span class="na">orientechnologies</span><span class="o">.</span><span class="na">orient</span><span class="o">.</span><span class="na">core</span><span class="o">.</span><span class="na">db</span><span class="o">.</span><span class="na">tool</span><span class="o">.</span><span class="na">ODatabaseImport</span><span class="o">.</span><span class="na">importDatabase</span><span class="o">(</span><span class="n">ODatabaseImport</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">121</span><span class="o">)</span>
</pre></div>

<p>To fix it just drop the ORIDs class before to import the database:
</p><div class="highlight"><pre><span class="n">orientdb</span><span class="o">&gt;</span> <span class="n">drop</span> <span class="kd">class</span> <span class="nc">ORIDs</span>
<span class="n">orientdb</span><span class="o">&gt;</span> <span class="kn">import</span> <span class="nn">database</span> <span class="o">...</span>
</pre></div>

<p>This is a command of the Orient console. To know all the commands go to <a class="internal present" href="/orientdb/wiki/Console-Commands.html">Console-Commands</a>.</p>


  </div>

</div>

<footer>
  <div class="row">
    <div class="six columns">
      <ul class="inline-list">
        <li><a href="/orientdb/"> Home</a></li>
<li><a href="/orientdb/about.html"> About</a></li>
<li class="active"><a href="/orientdb/wiki/Home.html"> Documentation</a></li>
<li><a href="/orientdb/wiki/Download.html"> Downloads</a></li>
<li><a href="/orientdb/community.html"> Community</a></li>
      </ul>
    </div>
    <div class="six columns">
      <p class="copyright">
        Copyright &copy; 2011-2012 NuvolaBase Ltd. <br/>
        <span class="small">NuvolaBase is a registered trademark. All Rights Reserved.</span>
      </p>
    </div>
  </div>
</footer>

<script src="../javascripts/app.js" type="text/javascript"></script>

</body>
</html>