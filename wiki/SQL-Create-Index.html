<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en" xmlns="http://www.w3.org/1999/html"><!--<![endif]-->
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
  <title>SQL Create Index |  OrientDB</title>
  <title>SQL Create Index</title>
  <link href="../stylesheets/foundation.min.css" media="screen" rel="stylesheet" type="text/css" />
<link href="../stylesheets/app.css" media="screen" rel="stylesheet" type="text/css" />
  <script src="../javascripts/modernizr.foundation.js" type="text/javascript"></script>
  
</head>
<body class="wiki wiki_SQL-Create-Index">

<header>
  <div class="row">
    <div class="five columns">
      <h1>
        <a href="/">
          Orient<span class="highl">DB</span>
        </a>
        <span class="subtitle">The Document/Graph NoSQL Database</span>
      </h1>
    </div>
    <div class="seven columns right">
      <ul class="inline-list">
        <li><a href="/"> Home</a></li>
<li><a href="/about.html"> About</a></li>
<li class="active"><a href="/wiki/Home.html"> Documentation</a></li>
<li><a href="/wiki/Download.html"> Downloads</a></li>
<li><a href="/community.html"> Community</a></li>
      </ul>
    </div>
  </div>
</header>


<div class="page-header">
  <div class="row">
    <div class="twelve columns">
      <h2>
        <i class="icon-wiki"></i>
        SQL Create Index
        
          <ul class="bcs">
          
            <li><a href="/wiki/SQL.html" class="nr1">Sql</a></li>
          
            <li><a href="/wiki/Home.html" class="nr2">Home</a></li>
          
          </ul>
        
        
      </h2>
    </div>
  </div>
</div>

<div id="main" class="row wiki">

  <div class="twelve columns content" role="content">

    <p>Creates a new index. To create an automatic index bound to a schema property use section "**ON**" of create index command or use as name the &lt;**class.property**&gt; notation. But assure to have created the schema for it before the index. See the example below.</p>

<p>Indexes can be:</p>

<ul>
<li>
<strong>UNIQUE</strong>, doesn't allow duplicated</li>
<li>
<strong>NOTUNIQUE</strong>, allows duplicates</li>
<li>
<strong>FULLTEXT</strong>, by indexing any single word of the text. It's used in query with the operator <a class="internal present" href="/wiki/SQL-Where.html#operators">CONTAINSTEXT</a>
</li>
</ul><h3>Syntax</h3>

<div class="highlight"><pre>  CREATE INDEX <span class="nt">&lt;name&gt;</span> [ON <span class="nt">&lt;class-name&gt;</span> (prop-names)] <span class="nt">&lt;type&gt;</span> [<span class="nt">&lt;key-type&gt;</span>]
</pre></div>
Where:

<ul>
<li>
<strong>name</strong> logical name of index. Can be <strong><code>&lt;class&gt;.&lt;property&gt;</code></strong> to create an automatic index bound to a schema property. In this case <strong>class</strong> is the class of the schema and <strong>property</strong>, is the property created into the class. Notice that in another case index name can't contain '.' symbol</li>
<li>
<strong>class-name</strong> name of class that automatic index created for. Class with such name must already exist in database</li>
<li>
<strong>prop-names</strong> comma-separated list of properties that this automatic index is created for. Property with such name must already exist in schema. If property belongs to one of the Map types (LINKMAP, EMBEDDEDMAP) you can specify will be keys or values used for index generation. Use "by key" or "by value" expressions for that, if nothing will be specified keys will be used during index creation.</li>
<li>
<strong>type</strong>, between 'unique', 'notunique' and 'fulltext'</li>
<li>
<strong>key-type</strong>, is the type of key (Optional). On automatic indexes is auto-determined by reading the target schema property where the index is created. If not specified for manual indexes, at run-time during the first insertion the type will be auto determined by reading the type of the class. In case of creation composite index it is a comma separated list of types.</li>
</ul><p>If "**ON**" and <strong>key-type</strong> sections both exist database validate types of specified properties. And if types of properties not equals to types specified in <strong>key-type</strong> list, exception will be thrown.</p>

<p>List of key types can be used for creation manual composite indexes, but such indexes don't have fully support yet.</p>

<h3>Examples</h3>

<p>Examples of non-automatic index to store dates manually:
</p><div class="highlight"><pre>  <span class="n">CREATE</span> <span class="n">INDEX</span> <span class="n">mostRecentRecords</span> <span class="n">unique</span> <span class="n">date</span>
</pre></div>

<p>Examples of automatic index bound to the property "id" of class "User":
</p><div class="highlight"><pre>  <span class="n">CREATE</span> <span class="n">PROPERTY</span> <span class="n">User</span><span class="o">.</span><span class="na">id</span> <span class="n">BINARY</span>
  <span class="n">CREATE</span> <span class="n">INDEX</span> <span class="n">User</span><span class="o">.</span><span class="na">id</span> <span class="n">UNIQUE</span>
</pre></div>

<p>Examples of index for "thumbs" property of class "Movie".<br></p><div class="highlight"><pre>  <span class="n">CREATE</span> <span class="n">INDEX</span> <span class="n">thumbsAuthor</span> <span class="n">ON</span> <span class="nf">Movie</span> <span class="o">(</span><span class="n">thumbs</span><span class="o">)</span> <span class="n">unique</span><span class="o">;</span>
  <span class="n">CREATE</span> <span class="n">INDEX</span> <span class="n">thumbsAuthor</span> <span class="n">ON</span> <span class="nf">Movie</span> <span class="o">(</span><span class="n">thumbs</span> <span class="n">by</span> <span class="n">key</span><span class="o">)</span> <span class="n">unique</span><span class="o">;</span> 
  <span class="n">CREATE</span> <span class="n">INDEX</span> <span class="n">thumbsValue</span> <span class="n">ON</span> <span class="nf">Movie</span> <span class="o">(</span><span class="n">thumbs</span> <span class="n">by</span> <span class="n">value</span><span class="o">)</span> <span class="n">unique</span><span class="o">;</span> 
</pre></div>

<p>Composite index example:
</p><div class="highlight"><pre>  <span class="n">CREATE</span> <span class="n">PROPERTY</span> <span class="n">Book</span><span class="o">.</span><span class="na">author</span> <span class="n">STRING</span>
  <span class="n">CREATE</span> <span class="n">PROPERTY</span> <span class="n">Book</span><span class="o">.</span><span class="na">title</span> <span class="n">STRING</span>
  <span class="n">CREATE</span> <span class="n">PROPERTY</span> <span class="n">Book</span><span class="o">.</span><span class="na">publicationYears</span> <span class="n">EMBEDDEDLIST</span> <span class="n">INTEGER</span>
  <span class="n">CREATE</span> <span class="n">INDEX</span> <span class="n">books</span> <span class="n">ON</span> <span class="nf">Book</span> <span class="o">(</span><span class="n">author</span><span class="o">,</span> <span class="n">title</span><span class="o">,</span> <span class="n">publicationYears</span><span class="o">)</span> <span class="n">UNIQUE</span>
</pre></div>

<p>For complete index guide look at <a class="internal present" href="/wiki/Indexes.html">Index guide</a>.</p>

<p>To know more about other SQL commands look at <a class="internal present" href="/wiki/SQL.html">SQL commands</a>.</p>


  </div>

</div>

<footer>
  <div class="row">
    <div class="six columns">
      <ul class="inline-list">
        <li><a href="/"> Home</a></li>
<li><a href="/about.html"> About</a></li>
<li class="active"><a href="/wiki/Home.html"> Documentation</a></li>
<li><a href="/wiki/Download.html"> Downloads</a></li>
<li><a href="/community.html"> Community</a></li>
      </ul>
    </div>
    <div class="six columns">
      <p class="copyright">
        Copyright &copy; 2011-2012 NuvolaBase Ltd. <br/>
        <span class="small">NuvolaBase is a registered trademark. All Rights Reserved.</span>
      </p>
    </div>
  </div>
</footer>

<script src="../javascripts/app.js" type="text/javascript"></script>

</body>
</html>