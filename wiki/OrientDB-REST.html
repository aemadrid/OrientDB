<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en" xmlns="http://www.w3.org/1999/html"><!--<![endif]-->
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
  <title>OrientDB REST |  OrientDB</title>
  <title>OrientDB REST</title>
  <link href="../stylesheets/foundation.min.css" media="screen" rel="stylesheet" type="text/css" />
<link href="../stylesheets/app.css" media="screen" rel="stylesheet" type="text/css" />
  <script src="../javascripts/modernizr.foundation.js" type="text/javascript"></script>
  
</head>
<body class="orientdb orientdb_wiki orientdb_wiki_OrientDB-REST">

<header>
  <div class="row">
    <div class="five columns">
      <h1>
        <a href="/orientdb/">
          Orient<span class="highl">DB</span>
        </a>
        <span class="subtitle">The Document/Graph NoSQL Database</span>
      </h1>
    </div>
    <div class="seven columns right">
      <ul class="inline-list">
        <li><a href="/orientdb/"> Home</a></li>
<li><a href="/orientdb/about.html"> About</a></li>
<li class="active"><a href="/orientdb/wiki/Home.html"> Documentation</a></li>
<li><a href="/orientdb/wiki/Download.html"> Downloads</a></li>
<li><a href="/orientdb/community.html"> Community</a></li>
      </ul>
    </div>
  </div>
</header>


<div class="page-header">
  <div class="row">
    <div class="twelve columns">
      <h2>
        <i class="icon-orientdb"></i>
        OrientDB REST
        
          <ul class="bcs">
          
            <li><a href="/orientdb/wiki/DB-Server.html" class="nr1">Db Server</a></li>
          
            <li><a href="/orientdb/wiki/Home.html" class="nr2">Home</a></li>
          
          </ul>
        
        
      </h2>
    </div>
  </div>
</div>

<div id="main" class="row wiki">

  <div class="twelve columns content" role="content">

    <h3>Introduction</h3>

<p>OrientDB RESTful HTTP protocol allows to talk with a <a class="internal present" href="/orientdb/wiki/DB-Server.html">OrientDB Server instance</a> using the <a href="http://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol">HTTP protocol</a> and <a href="http://en.wikipedia.org/wiki/JSON">JSON</a>. OrientDB supports also a highly optimized <a class="internal present" href="/orientdb/wiki/Network-Binary-Protocol.html">Binary protocol</a> for superior performances.</p>



<h4>HTTP Methods</h4>

<p>This protocol uses the four methods of the HTTP protocol:</p>

<ul>
<li>
<strong>GET</strong>, to retrieve values from the database. It's idempotents that means no changes to the database happen. Remember that in IE6 the URL can be maximum of 2,083 characters. Other browsers supports major length, but if you want to stay compatible with all limit to 2,083 characters</li>
<li>
<strong>POST</strong>, to insert values into the database</li>
<li>
<strong>PUT</strong>, to change values into the database</li>
<li>
<strong>DELETE</strong>, to delete values from the database</li>
</ul><p>When using POST and PUT the following are important when preparing the contents of the post message:</p>

<ul>
<li>Always have the content type set to “application/json” or "application/xml"</li>
<li>Where data or data structure is involved the content is in JSON format</li>
<li>For OrientDB SQL or Gremlin the content itself is just text</li>
</ul><h4>Syntax</h4>

<p>The REST API is very flexible, with the following features:</p>

<ul>
<li>Data returned is in JSON format</li>
<li>JSONP callback is supported</li>
<li>Support for http and https connections</li>
<li>The API itself is case insensitive</li>
<li>API can just be used as a wrapper to retrieve (and control) data through requests written in OrientDB SQL or Gremlin</li>
</ul><hr><p>The REST syntax used is the same for all the four HTTP methods:</p>

<p>Syntax: <code>http://&lt;server&gt;:&lt;port&gt;/&lt;command&gt;/[Results are always in <a href="&amp;lt;database&amp;gt;/&amp;lt;arguments&amp;gt;%5D%3C/code">http://en.wikipedia.org/wiki/JSON JSON</a> format. Support for 'document' object types is through the use of the attribute <code>@type : 'd'</code>. This also applies when using inner document objects.
Example:</code></p>

<div class="highlight"><pre>  <span class="o">{</span>
    <span class="s">"@type"</span>  <span class="o">:</span> <span class="s">"d"</span>
    <span class="s">"Name"</span>   <span class="o">:</span> <span class="s">"Test"</span><span class="o">,</span>
    <span class="s">"Data"</span>   <span class="o">:</span> <span class="o">{</span> <span class="s">"@type"</span><span class="o">:</span> <span class="s">"d"</span><span class="o">,</span>
                 <span class="s">"value"</span><span class="o">:</span> <span class="mi">0</span> <span class="o">},</span>
    <span class="s">"@class"</span> <span class="o">:</span> <span class="s">"SimpleEntity"</span>
  <span class="o">}</span>
</pre></div>

<p><a href="http://en.wikipedia.org/wiki/JSONP">JSONP</a> is also supported by adding a <em>callback</em> parameter to the request (containing the callback function name).</p>

<p>Syntax: {{{http://://[Commands are divided in two main categories:</p>

<ul>
<li>Server commands, such as to know server statistics and to create a new database</li>
<li>Database commands, all the commands against a database</li>
</ul><h4>Authentication and security</h4>

<p>All the commands (but the <a href="database%3E/%3Carguments%3E%5D?callback=%3CcallbackFunctionName%3E%7D%7D%7D">#Disconnect Disconnect</a>) need a valid authentication before to get executed. The OrientDB Server checks if the Authorization HTTP header is present, otherwise answers with a request of authentication (HTTP error code: 401).</p>

<p>The HTTP client (or the Internet Browser) must send user and password using the HTTP Base authentication. Password is encoded using Base64 algorithm. Please note that if you want to encrypt the password using a safe mode take in consideration to use SSL connections.</p>

<p>Server commands use the realm "OrientDB Server", while the database commands use a realm per database in this form: <code>"OrientDB db-&lt;database&gt;"</code>, where <code>&lt;database&gt;</code> is the database name. In this way the Browser/HTTP client can reuse user and password inserted multiple times until the session expires or the "Disconnect" is called.</p>

<h4>JSON data type handling and Schema-less mode</h4>

<p>Since OrientDB supports also schema-less/hybrid modes how to manage types? JSON doesn't support all the types OrientDB has, so how can I pass the right type when it's not defined in the schema?</p>

<p>The answer is using the special field <strong>"@fieldTypes"</strong> as string containing all the field types separated by comma. Example:
</p><div class="highlight"><pre>  <span class="o">{</span> <span class="s">"@class"</span><span class="o">:</span><span class="s">"Account"</span><span class="o">,</span> <span class="s">"date"</span><span class="o">:</span> <span class="mi">1350426789</span><span class="o">,</span> <span class="s">"amount"</span><span class="o">:</span> <span class="mf">100.34</span><span class="o">,</span> <span class="s">"@fieldTypes"</span><span class="o">:</span> <span class="s">"date=t,amount=c"</span> <span class="o">}</span>
</pre></div>
The supported special types are:

<ul>
<li>'f' for float</li>
<li>'c' for decimal</li>
<li>'l' for long</li>
<li>'d' for double</li>
<li>'b' for byte and binary</li>
<li>'a' for date</li>
<li>'t' for datetime</li>
<li>'s' for short</li>
</ul><h3>HTTP commands</h3>

<h4>Connect</h4>

<h5>GET - Connect</h5>

<p>Syntax: http://:[]/connect/</p>

<h5>Example</h5>

<p>HTTP GET request: <code>http://localhost:2480/connect/demo</code>
HTTP response:
</p><div class="highlight"><pre>  <span class="o">{</span>
  <span class="o">{</span>
      <span class="s">"server"</span><span class="o">:</span> <span class="o">{</span>
          <span class="s">"version"</span><span class="o">:</span> <span class="s">"1.1.0-SNAPSHOT"</span><span class="o">,</span>
          <span class="s">"osName"</span><span class="o">:</span> <span class="s">"Windows 7"</span><span class="o">,</span>
          <span class="s">"osVersion"</span><span class="o">:</span> <span class="s">"6.1"</span><span class="o">,</span>
          <span class="s">"osArch"</span><span class="o">:</span> <span class="s">"amd64"</span><span class="o">,</span>
          <span class="s">"javaVendor"</span><span class="o">:</span> <span class="s">"Oracle Corporation"</span><span class="o">,</span>
          <span class="s">"javaVersion"</span><span class="o">:</span> <span class="s">"23.0-b21"</span>
      <span class="o">},</span> <span class="s">"classes"</span><span class="o">:</span> <span class="o">[</span>
      <span class="o">{</span>
        <span class="s">"id"</span><span class="o">:</span> <span class="mi">0</span><span class="o">,</span> 
        <span class="s">"name"</span><span class="o">:</span> <span class="s">"ORole"</span><span class="o">,</span> 
        <span class="s">"clusters"</span><span class="o">:</span> <span class="o">[</span><span class="mi">3</span><span class="o">],</span> 
        <span class="s">"defaultCluster"</span><span class="o">:</span> <span class="mi">3</span><span class="o">,</span> <span class="s">"records"</span><span class="o">:</span> <span class="mi">0</span><span class="o">},</span> 
  <span class="o">...</span>
</pre></div>

<h4>Class</h4>

<h5>GET - Class</h5>

<p>Gets informations about requested class.</p>

<p>Syntax: <code>http://&lt;server&gt;:<a href="&amp;lt;port&amp;gt;%5D/connect/&amp;lt;database&amp;gt;%3C/code">&lt;port&gt;</a>/class//}}}</code></p>

<p>HTTP response:
</p><div class="highlight"><pre>  <span class="o">{</span> <span class="s">"class"</span><span class="o">:</span> <span class="o">{</span>
      <span class="s">"name"</span><span class="o">:</span> <span class="s">"&lt;class-name&gt;"</span>
      <span class="s">"properties"</span><span class="o">:</span> <span class="o">{</span>
        <span class="o">&lt;</span><span class="n">property</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span> <span class="o">:</span> <span class="o">{</span>
           <span class="s">"name"</span><span class="o">:</span> <span class="o">&lt;</span><span class="n">property</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;,</span>
           <span class="s">"type"</span><span class="o">:</span> <span class="o">&lt;</span><span class="n">property</span><span class="o">-</span><span class="n">type</span><span class="o">&gt;,</span>
           <span class="s">"mandatory"</span><span class="o">:</span> <span class="o">&lt;</span><span class="n">mandatory</span><span class="o">&gt;,</span>
           <span class="s">"notNull"</span><span class="o">:</span> <span class="o">&lt;</span><span class="n">not</span><span class="o">-</span><span class="kc">null</span><span class="o">&gt;,</span>
           <span class="s">"min"</span><span class="o">:</span> <span class="o">&lt;</span><span class="n">min</span><span class="o">&gt;,</span>
           <span class="s">"max"</span><span class="o">:</span> <span class="o">&lt;</span><span class="n">max</span><span class="o">&gt;</span>
         <span class="o">}</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">}</span>
</pre></div>
For more information about properties look at the <a class="internal present" href="/orientdb/wiki/Types.html">supported types</a>, or see the <a class="internal present" href="/orientdb/wiki/SQL-Create-Property.html">SQL Create property</a> page for text values to be used when getting or posting class commands 

<h5>Example</h5>

<p>HTTP GET request: <code>http://localhost:2480/class/demo/Address</code>
HTTP response:
</p><div class="highlight"><pre>  <span class="o">{</span>
      <span class="s">"class"</span><span class="o">:</span> <span class="o">{</span>
          <span class="s">"name"</span><span class="o">:</span> <span class="s">"Account"</span><span class="o">,</span>
          <span class="s">"properties"</span><span class="o">:</span> <span class="o">{</span>
              <span class="s">"id"</span><span class="o">:</span> <span class="o">{</span>
                  <span class="s">"name"</span><span class="o">:</span> <span class="s">"id"</span><span class="o">,</span>
                  <span class="s">"type"</span><span class="o">:</span> <span class="s">"INTEGER"</span><span class="o">,</span>
                  <span class="s">"mandatory"</span><span class="o">:</span> <span class="kc">false</span><span class="o">,</span>
                  <span class="s">"notNull"</span><span class="o">:</span> <span class="kc">false</span><span class="o">,</span>
                  <span class="s">"min"</span><span class="o">:</span> <span class="kc">null</span><span class="o">,</span>
                  <span class="s">"max"</span><span class="o">:</span> <span class="kc">null</span>
              <span class="o">},</span>
              <span class="s">"binary"</span><span class="o">:</span> <span class="o">{</span>
                  <span class="s">"name"</span><span class="o">:</span> <span class="s">"binary"</span><span class="o">,</span>
                  <span class="s">"type"</span><span class="o">:</span> <span class="s">"BINARY"</span><span class="o">,</span>
                  <span class="s">"mandatory"</span><span class="o">:</span> <span class="kc">false</span><span class="o">,</span>
                  <span class="s">"notNull"</span><span class="o">:</span> <span class="kc">false</span><span class="o">,</span>
                  <span class="s">"min"</span><span class="o">:</span> <span class="kc">null</span><span class="o">,</span>
                  <span class="s">"max"</span><span class="o">:</span> <span class="kc">null</span>
              <span class="o">},</span>
              <span class="s">"birthDate"</span><span class="o">:</span> <span class="o">{</span>
                  <span class="s">"name"</span><span class="o">:</span> <span class="s">"birthDate"</span><span class="o">,</span>
                  <span class="s">"type"</span><span class="o">:</span> <span class="s">"DATE"</span><span class="o">,</span>
                  <span class="s">"mandatory"</span><span class="o">:</span> <span class="kc">false</span><span class="o">,</span>
                  <span class="s">"notNull"</span><span class="o">:</span> <span class="kc">false</span><span class="o">,</span>
                  <span class="s">"min"</span><span class="o">:</span> <span class="kc">null</span><span class="o">,</span>
                  <span class="s">"max"</span><span class="o">:</span> <span class="kc">null</span>
              <span class="o">}</span>
          <span class="o">}</span>
      <span class="o">}</span>
  <span class="o">}</span>
</pre></div>

<h5>POST - Class</h5>

<p>Create a new class where the schema of the vertexes or edges is known. OrientDB allows (encourages) classes to be derived from other class definitions – this is achieved by using the <a href="#POST_-_Command">COMMAND</a> call with an OrientDB SQL command.
Returns the id of the new class created.</p>

<p>Syntax: http://:[]/class//</p>

<p>HTTP POST request: <code>http://localhost:2480/class/demo/Address2</code>
HTTP response: <code>9</code></p>

<h4>Property</h4>

<h5>POST - Property</h5>

<p>Create one or more properties into a given class. Returns the number of properties of the class.</p>

<p><em>Single property creation</em><br>
Syntax: <code>http://&lt;server&gt;:<a href="&amp;lt;port&amp;gt;%5D/class/&amp;lt;database&amp;gt;/&amp;lt;class-name&amp;gt;%3C/code">&lt;port&gt;</a>/property////[Creates a property named <code>&lt;property-name&gt;</code> in <code>&lt;class-name&gt;</code>. If <code>&lt;property-type&gt;</code> is not specified the property will be created as STRING.
<br><br><em>Multiple property creation</em><br>
Syntax: <code>http://&lt;server&gt;:<a href="&amp;lt;property-type&amp;gt;%5D%3C/code">&lt;port&gt;</a>/property///}}}<br><em>Requires a JSON document post request content</em>:
<div class="highlight"><pre>  <span class="o">{</span>
      <span class="s">"fieldName"</span><span class="o">:</span> <span class="o">{</span>
          <span class="s">"propertyType"</span><span class="o">:</span> <span class="s">"&lt;property-type&gt;"</span>
      <span class="o">},</span>
      <span class="s">"fieldName"</span><span class="o">:</span> <span class="o">{</span>
          <span class="s">"propertyType"</span><span class="o">:</span> <span class="s">"LINK"</span><span class="o">,</span>
          <span class="s">"linkedClass"</span><span class="o">:</span> <span class="s">"&lt;linked-class&gt;"</span>
      <span class="o">},</span>
      <span class="s">"fieldName"</span><span class="o">:</span> <span class="o">{</span>
          <span class="s">"propertyType"</span><span class="o">:</span> <span class="s">"&lt;LINKMAP|LINKLIST|LINKSET&gt;"</span><span class="o">,</span>
          <span class="s">"linkedClass"</span><span class="o">:</span> <span class="s">"&lt;linked-class&gt;"</span>
      <span class="o">},</span>
      <span class="s">"fieldName"</span><span class="o">:</span> <span class="o">{</span>
          <span class="s">"propertyType"</span><span class="o">:</span> <span class="s">"&lt;LINKMAP|LINKLIST|LINKSET&gt;"</span><span class="o">,</span>
          <span class="s">"linkedType"</span><span class="o">:</span> <span class="s">"&lt;linked-type&gt;"</span>
      <span class="o">}</span>
  <span class="o">}</span>
</pre></div>
<br><br></code></code></p>

<h5>Example</h5>

<p><em>Single property</em>:</p>

<p>String Property Example:<br>
HTTP POST request: <code>http://localhost:2480/class/demo/simpleField</code><br>
HTTP response: <code>1</code></p>

<p>Type Property Example:<br>
HTTP POST request: <code>http://localhost:2480/class/demo/dateField/DATE</code><br>
HTTP response: <code>1</code></p>

<p>Link Property Example:<br>
HTTP POST request: <code>http://localhost:2480/class/demo/linkField/LINK/Person</code><br>
HTTP response: <code>1</code><br></p>

<p><em>Multiple properties</em>:<br>
HTTP POST request: <code>http://localhost:2480/class/demo/</code><br>
HTTP POST content:<br></p><div class="highlight"><pre>  <span class="o">{</span>
      <span class="s">"name"</span><span class="o">:</span> <span class="o">{</span>
          <span class="s">"propertyType"</span><span class="o">:</span> <span class="s">"STRING"</span>
      <span class="o">},</span>
      <span class="s">"father"</span><span class="o">:</span> <span class="o">{</span>
          <span class="s">"propertyType"</span><span class="o">:</span> <span class="s">"LINK"</span><span class="o">,</span>
          <span class="s">"linkedClass"</span><span class="o">:</span> <span class="s">"Person"</span>
      <span class="o">},</span>
      <span class="s">"addresses"</span><span class="o">:</span> <span class="o">{</span>
          <span class="s">"propertyType"</span><span class="o">:</span> <span class="s">"LINKMAP"</span><span class="o">,</span>
          <span class="s">"linkedClass"</span><span class="o">:</span> <span class="s">"Address"</span>
      <span class="o">},</span>
      <span class="s">"examsRatings"</span><span class="o">:</span> <span class="o">{</span>
          <span class="s">"propertyType"</span><span class="o">:</span> <span class="s">"LINKMAP"</span><span class="o">,</span>
          <span class="s">"linkedType"</span><span class="o">:</span> <span class="s">"INTEGER"</span>
      <span class="o">}</span>
      <span class="s">"events"</span><span class="o">:</span> <span class="o">{</span>
          <span class="s">"propertyType"</span><span class="o">:</span> <span class="s">"LINKLIST"</span><span class="o">,</span>
          <span class="s">"linkedType"</span><span class="o">:</span> <span class="s">"DATE"</span>
      <span class="o">}</span>
      <span class="s">"family"</span><span class="o">:</span> <span class="o">{</span>
          <span class="s">"propertyType"</span><span class="o">:</span> <span class="s">"LINKLIST"</span><span class="o">,</span>
          <span class="s">"linkedClass"</span><span class="o">:</span> <span class="s">"Person"</span>
      <span class="o">}</span>
  <span class="o">...</span>
</pre></div>
HTTP response: <code>6</code>

<h4>Cluster</h4>

<h5>GET - Cluster</h5>

<p>Where the primary usage is a document db, or where the developer wants to optimise retrieval using the clustering of the database, use the CLUSTER command to browse the records of the requested cluster.</p>

<p>Syntax: <code>http://&lt;server&gt;:[Where {{{&lt;limit&gt;</code> is optional and tells the maximum of records to load. Default is 20.</p>

<h5>Example</h5>

<p>HTTP GET request: <code>http://localhost:2480/cluster/demo/Address</code></p>

<p>HTTP response:
</p><div class="highlight"><pre>  <span class="o">{</span> <span class="s">"schema"</span><span class="o">:</span> <span class="o">{</span>
      <span class="s">"id"</span><span class="o">:</span> <span class="mi">5</span><span class="o">,</span> 
      <span class="s">"name"</span><span class="o">:</span> <span class="s">"Address"</span>
    <span class="o">},</span> 
    <span class="s">"result"</span><span class="o">:</span> <span class="o">[{</span>
        <span class="s">"_id"</span><span class="o">:</span> <span class="s">"11:0"</span><span class="o">,</span> 
        <span class="s">"_ver"</span><span class="o">:</span> <span class="mi">0</span><span class="o">,</span> 
        <span class="s">"@class"</span><span class="o">:</span> <span class="s">"Address"</span><span class="o">,</span> 
        <span class="s">"type"</span><span class="o">:</span> <span class="s">"Residence"</span><span class="o">,</span> 
        <span class="s">"street"</span><span class="o">:</span> <span class="s">"Piazza Navona, 1"</span><span class="o">,</span> 
        <span class="s">"city"</span><span class="o">:</span> <span class="s">"12:0"</span>
      <span class="o">}</span>
  <span class="o">...</span>
</pre></div>

<h4>Command</h4>

<h5>POST - Command</h5>

<p>Execute a command against the database. Returns the records affected or the list of records for queries. Command executed via POST can be non-idempotent (look at <a href="port%3E%5D/cluster/%3Cdatabase%3E/%3Cclass-name%3E%5B/%3Climit%3E%5D%7D%7D%7D">http://code.google.com/p/orient/wiki/OrientDB_REST#Query Query</a>).</p>

<p>Syntax: <code>http://&lt;server&gt;:[{{{content: &lt;command-text&gt;</code></p>

<p>Where:</p>

<ul>
<li>
<em><code>&lt;language&gt;</code></em> is the name of the language between those supported. OrientDB distribution comes with "sql" and GraphDB distribution has both "sql" and "gremlin"</li>
<li>
<em><code>command-text</code></em> is the text containing the command to execute</li>
<li>
<em><code>limit</code></em> is the maximum number of record to return. Optional, default is 20</li>
<li>
<em><code>fetchPlan</code></em> is the fetching strategy to use. For more information look at <a class="internal present" href="/orientdb/wiki/Fetching-Strategies.html">Fetching Strategies</a>. Optional, default is *:1 (1 depth level only)</li>
</ul><p>The <em><code>command-text</code></em> can appear in either the URL or the content of the POST transmission.</p>

<p>Where the command-text is included in the URL, it must be encoded as per  normal URL encoding.</p>

<p>Read the <a href="port%3E%5D/command/%3Cdatabase%3E/%3Clanguage%3E%5B/%3Ccommand-text%3E%5D%5B/limit%5D%5B/%3CfetchPlan%3E%5D%7D%7D%7D">SQL SQL section</a>, or the <a class="internal present" href="/orientdb/wiki/Gremlin.html">Gremlin</a> introduction for the type of commands.</p>

<h5>Example</h5>

<p>HTTP POST request: <code>http://localhost:2480/command/demo/sql</code>
</p><div class="highlight"><pre><span class="err">```</span>
<span class="nl">content:</span> <span class="n">update</span> <span class="n">Profile</span> <span class="n">set</span> <span class="n">online</span> <span class="o">=</span> <span class="kc">false</span>
</pre></div>
<div class="highlight"><pre>HTTP response: <span class="nt">&lt;code&gt;</span>10<span class="nt">&lt;/code&gt;</span>

Or the same:

HTTP POST request: <span class="nt">&lt;code&gt;</span>http://localhost:2480/command/demo/sql/update Profile set online = false<span class="nt">&lt;/code&gt;</span>

HTTP response: <span class="nt">&lt;code&gt;</span>10<span class="nt">&lt;/code&gt;</span>


## Function

### POST and GET - Function

Executes a server-side function against the database. Returns the result of the function that can be a string or a JSON containing the document(s) returned.

The difference between GET and POST method calls are if the function has been declared as idempotent. In this case can be called also by GET, otherwise only POST is accepted.

Syntax: {{{http://<span class="nt">&lt;server&gt;</span>:[Where
- *<span class="nt">&lt;code&gt;</span><span class="ni">&amp;lt;</span>name<span class="ni">&amp;gt;</span><span class="nt">&lt;/code&gt;</span>* is the name of the function
- *<span class="nt">&lt;code&gt;</span><span class="ni">&amp;lt;</span>argument<span class="ni">&amp;gt;</span><span class="nt">&lt;/code&gt;</span>*, optional, are the arguments to pass to the function. They are passed by position.

Creation of functions, when not using the Java API, can be done through the Studio in either Orient DB SQL or Java – see the [[OrientDB Functions page|Functions]].

### Example

HTTP POST request: <span class="nt">&lt;code&gt;</span>http://localhost:2480/function/demo/sum/3/5<span class="nt">&lt;/code&gt;</span>

HTTP response: <span class="nt">&lt;code&gt;</span>8.0<span class="nt">&lt;/code&gt;</span>


## Database

### GET - Database

Retrieve all the information about a database.

Syntax: <span class="nt">&lt;code&gt;</span>http://<span class="ni">&amp;lt;</span>server<span class="ni">&amp;gt;</span>:[<span class="ni">&amp;lt;</span>port<span class="ni">&amp;gt;</span>](<span class="ni">&amp;lt;</span>port<span class="ni">&amp;gt;</span>]/function/<span class="ni">&amp;lt;</span>database<span class="ni">&amp;gt;</span>/<span class="ni">&amp;lt;</span>name<span class="ni">&amp;gt;</span>[/<span class="ni">&amp;lt;</span>argument<span class="ni">&amp;gt;</span>*]<span class="nt">&lt;/code&gt;</span>)/database/<span class="nt">&lt;database&gt;</span>}}}
### Example

HTTP GET request: <span class="nt">&lt;code&gt;</span>http://localhost:2480/database/demo<span class="nt">&lt;/code&gt;</span>

HTTP response:
```java
    {"classes": [
        {
          "id": 0, 
          "name": "ORole", 
          "clusters": [3], 
          "defaultCluster": 3, "records": 0}, 
        {
          "id": 1, 
          "name": "OUser", 
          "clusters": [4], 
          "defaultCluster": 4, "records": 0}, 
        {
    ...
</pre></div>

<h5>POST - Database</h5>

<p>Create a new database. Requires additional authentication to the server.</p>

<p>Syntax: {{{http://:[Where:</p>

<ul>
<li>
<em>storage</em> can be</li>
<li>'local' for disk-based database</li>
<li>'memory' for in memory only database.</li>
<li>
<em>type</em>, is optional, and can be document or graph. By default is "document.
### Example</li>
</ul><p>HTTP POST request: <code>http://localhost:2480/database/demo2/local</code>
HTTP response:
</p><div class="highlight"><pre>  <span class="o">{</span><span class="s">"classes"</span><span class="o">:</span> <span class="o">[</span>
      <span class="o">{</span>
        <span class="s">"id"</span><span class="o">:</span> <span class="mi">0</span><span class="o">,</span> 
        <span class="s">"name"</span><span class="o">:</span> <span class="s">"ORole"</span><span class="o">,</span> 
        <span class="s">"clusters"</span><span class="o">:</span> <span class="o">[</span><span class="mi">3</span><span class="o">],</span> 
        <span class="s">"defaultCluster"</span><span class="o">:</span> <span class="mi">3</span><span class="o">,</span> <span class="s">"records"</span><span class="o">:</span> <span class="mi">0</span><span class="o">},</span> 
      <span class="o">{</span>
        <span class="s">"id"</span><span class="o">:</span> <span class="mi">1</span><span class="o">,</span> 
        <span class="s">"name"</span><span class="o">:</span> <span class="s">"OUser"</span><span class="o">,</span> 
        <span class="s">"clusters"</span><span class="o">:</span> <span class="o">[</span><span class="mi">4</span><span class="o">],</span> 
        <span class="s">"defaultCluster"</span><span class="o">:</span> <span class="mi">4</span><span class="o">,</span> <span class="s">"records"</span><span class="o">:</span> <span class="mi">0</span><span class="o">},</span> 
      <span class="o">{</span>
  <span class="o">...</span>
</pre></div>

<h5>DELETE - Database</h5>

<p>Drop a database. Requires additional authentication to the server.</p>

<p>Syntax: <code>http://&lt;server&gt;:<a href="&amp;lt;port&amp;gt;%5D/database/&amp;lt;databaseName&amp;gt;/&amp;lt;storage&amp;gt;%5B/type%5D%3C/code">&lt;port&gt;</a>/database/}}}</code></p>

<p>Where:</p>

<ul>
<li>
<strong>databaseName</strong> is the name of database
### Example</li>
</ul><p>HTTP DELETE request: <code>http://localhost:2480/database/demo2</code>
HTTP response code 204</p>

<h4>Export</h4>

<h5>GET - Export</h5>

<p>Exports a gzip file that contains the database JSON export.</p>

<p>Syntax: http://:[]/export/</p>

<p>HTTP GET request: <code>http://localhost:2480/export/demo2</code>
HTTP response: demo2.gzip file</p>

<h4>List Databases</h4>

<h5>GET - List Databases</h5>

<p>Retrieves the available databases. It needs the <a class="internal present" href="/orientdb/wiki/Security.html#server's_resourcesserver'sresource">]/export/}}}</a> "server.listDatabases".</p>

<p>Syntax: {{{http://:[To let to the Studio to display the database list by default the permission to list the database is assigned to guest. Remove this permission if you don't want anonymous user can display it.</p>

<p>Example of configuration of "guest" server user:
a15b5e6bb7d06bd5d6c35db97e51400b</p>

<h5>Example</h5>

<p>HTTP GET request: <code>http://localhost:2480/listDatabases</code>
HTTP response:
</p><div class="highlight"><pre>  <span class="o">{</span>
    <span class="s">"@type"</span><span class="o">:</span> <span class="s">"d"</span><span class="o">,</span> <span class="s">"@version"</span><span class="o">:</span> <span class="mi">0</span><span class="o">,</span> 
      <span class="s">"databases"</span><span class="o">:</span> <span class="o">[</span><span class="s">"demo"</span><span class="o">,</span> <span class="s">"temp"</span><span class="o">]</span>
        <span class="o">}</span>
</pre></div>

<h4>Import</h4>

<h5>POST - Import</h5>

<p>Imports a database from an uploaded JSON text file.</p>

<p>Syntax: <code>http://&lt;server&gt;:<a href="&amp;lt;port&amp;gt;%5D/listDatabases%3C/code">&lt;port&gt;</a>/import/}}}</code></p>

<p><strong>Important</strong>: Connect required: the connection with the selected database must be already established</p>

<h5>Example</h5>

<p>HTTP POST request: <code>http://localhost:2480/import/</code><br>
HTTP response: returns a JSON object containing the result text<br><em>Success</em>:
</p><div class="highlight"><pre>  <span class="o">{</span>
  <span class="s">"responseText"</span><span class="o">:</span> <span class="s">"Database imported correctly"</span>
  <span class="o">}</span>
</pre></div>

<p>_Fail::
</p><div class="highlight"><pre>  <span class="o">{</span>
  <span class="s">"responseText"</span><span class="o">:</span> <span class="s">"Error message"</span>
  <span class="o">}</span>
</pre></div>

<h4>Disconnect</h4>

<h5>GET - Disconnect</h5>

<p>Syntax: <code>http://&lt;server&gt;:[&lt;port&gt;]/disconnect</code></p>

<h5>Example</h5>

<p>HTTP GET request: <code>http://localhost:2480/disconnect</code>
HTTP response: empty.</p>

<h4>Document</h4>

<h5>GET - Document</h5>

<p>This is a key way to retrieve data from the database, especially when combined with a <code>&lt;fetchplan&gt;</code>. Where a single result is required then the RID can be used to retrieve that single document.</p>

<p>Syntax: <code>http://&lt;server&gt;:<a href="&amp;lt;port&amp;gt;%5D/disconnect%3C/code">&lt;port&gt;</a>/document//[See <a href="/%3CfetchPlan%3E%5D%7D%7D%7D%3Cbr/">http://code.google.com/p/orient/wiki/FetchingStrategies Fetching Strategies</a></code></p>

<h5>Example</h5>

<p>HTTP GET request: <code>http://localhost:2480/document/demo/9:0</code>
HTTP response:
</p><div class="highlight"><pre>  <span class="o">{</span>
    <span class="s">"_id"</span><span class="o">:</span> <span class="s">"9:0"</span><span class="o">,</span> 
    <span class="s">"_ver"</span><span class="o">:</span> <span class="mi">2</span><span class="o">,</span> 
    <span class="s">"@class"</span><span class="o">:</span> <span class="s">"Profile"</span><span class="o">,</span> 
    <span class="s">"nick"</span><span class="o">:</span> <span class="s">"GGaribaldi"</span><span class="o">,</span> 
    <span class="s">"followings"</span><span class="o">:</span> <span class="o">[],</span> 
    <span class="s">"followers"</span><span class="o">:</span> <span class="o">[],</span> 
    <span class="s">"name"</span><span class="o">:</span> <span class="s">"Giuseppe"</span><span class="o">,</span> 
    <span class="s">"surname"</span><span class="o">:</span> <span class="s">"Garibaldi"</span><span class="o">,</span> 
    <span class="s">"location"</span><span class="o">:</span> <span class="s">"11:0"</span><span class="o">,</span> 
    <span class="s">"invitedBy"</span><span class="o">:</span> <span class="kc">null</span><span class="o">,</span> 
    <span class="s">"sex"</span><span class="o">:</span> <span class="s">"male"</span><span class="o">,</span> 
    <span class="s">"online"</span><span class="o">:</span> <span class="kc">true</span>
  <span class="o">}</span>
</pre></div>

<h5>POST - Document</h5>

<p>Create a new document. Returns the Record-id assigned.</p>

<p>Syntax: <code>http://&lt;server&gt;:[&lt;port&gt;]/document/&lt;database&gt;/&lt;record-id&gt;</code></p>

<h5>Example</h5>

<p>HTTP POST request: <code>http://localhost:2480/document/demo</code>
</p><div class="highlight"><pre>  <span class="nl">content:</span> 
  <span class="o">{</span>
    <span class="s">"@class"</span><span class="o">:</span> <span class="s">"Profile"</span><span class="o">,</span> 
    <span class="s">"nick"</span><span class="o">:</span> <span class="s">"GGaribaldi"</span><span class="o">,</span> 
    <span class="s">"followings"</span><span class="o">:</span> <span class="o">[],</span> 
    <span class="s">"followers"</span><span class="o">:</span> <span class="o">[],</span> 
    <span class="s">"name"</span><span class="o">:</span> <span class="s">"Giuseppe"</span><span class="o">,</span> 
    <span class="s">"surname"</span><span class="o">:</span> <span class="s">"Garibaldi"</span><span class="o">,</span> 
    <span class="s">"location"</span><span class="o">:</span> <span class="s">"11:0"</span><span class="o">,</span> 
    <span class="s">"invitedBy"</span><span class="o">:</span> <span class="kc">null</span><span class="o">,</span> 
    <span class="s">"sex"</span><span class="o">:</span> <span class="s">"male"</span><span class="o">,</span> 
    <span class="s">"online"</span><span class="o">:</span> <span class="kc">true</span>
  <span class="o">}</span>
</pre></div>
HTTP response: <code>9:11</code>

<h5>PUT - Document</h5>

<p>Update a document. Remember to always pass the version to update. This prevent to update documents changed by other users (MVCC).</p>

<p>Syntax: <code>http://&lt;server&gt;:<a href="&amp;lt;port&amp;gt;%5D/document/&amp;lt;database&amp;gt;/&amp;lt;record-id&amp;gt;%3C/code">&lt;port&gt;</a>/document//}}}</code></p>

<h5>Example</h5>

<p>HTTP PUT request: <code>http://localhost:2480/document/demo/9:0</code>
</p><div class="highlight"><pre>  <span class="nl">content:</span> 
  <span class="o">{</span>
    <span class="s">"@class"</span><span class="o">:</span> <span class="s">"Profile"</span><span class="o">,</span> 
    <span class="s">"@version"</span><span class="o">:</span> <span class="mi">3</span><span class="o">,</span> 
    <span class="s">"nick"</span><span class="o">:</span> <span class="s">"GGaribaldi"</span><span class="o">,</span> 
    <span class="s">"followings"</span><span class="o">:</span> <span class="o">[],</span> 
    <span class="s">"followers"</span><span class="o">:</span> <span class="o">[],</span> 
    <span class="s">"name"</span><span class="o">:</span> <span class="s">"Giuseppe"</span><span class="o">,</span> 
    <span class="s">"surname"</span><span class="o">:</span> <span class="s">"Garibaldi"</span><span class="o">,</span> 
    <span class="s">"location"</span><span class="o">:</span> <span class="s">"11:0"</span><span class="o">,</span> 
    <span class="s">"invitedBy"</span><span class="o">:</span> <span class="kc">null</span><span class="o">,</span> 
    <span class="s">"sex"</span><span class="o">:</span> <span class="s">"male"</span><span class="o">,</span> 
    <span class="s">"online"</span><span class="o">:</span> <span class="kc">true</span>
  <span class="o">}</span>
</pre></div>
HTTP response: empty

<h5>DELETE - Document</h5>

<p>Delete a document.</p>

<p>Syntax: <code>http://&lt;server&gt;:[&lt;port&gt;]/document/&lt;database&gt;/&lt;record-id&gt;</code></p>

<h5>Example</h5>

<p>HTTP GET request: <code>http://localhost:2480/document/demo/9:0</code>
HTTP response: empty</p>

<h4>Document By Class</h4>

<h5>GET Document by Class</h5>

<p>Retrieve a document by cluster name and record position.</p>

<p>Syntax: <code>http://&lt;server&gt;:<a href="&amp;lt;port&amp;gt;%5D/document/&amp;lt;database&amp;gt;/&amp;lt;record-id&amp;gt;%3C/code">&lt;port&gt;</a>/documentbyclass///[See <a href="/fetchPlan%5D%7D%7D%7D%3Cbr/">http://code.google.com/p/orient/wiki/FetchingStrategies Fetching Strategies</a></code></p>

<h5>Example</h5>

<p>HTTP GET request: <code>http://localhost:2480/document/demo/Profile/0</code>
HTTP response:
</p><div class="highlight"><pre>  <span class="o">{</span>
    <span class="s">"_id"</span><span class="o">:</span> <span class="s">"9:0"</span><span class="o">,</span> 
    <span class="s">"_ver"</span><span class="o">:</span> <span class="mi">2</span><span class="o">,</span> 
    <span class="s">"@class"</span><span class="o">:</span> <span class="s">"Profile"</span><span class="o">,</span> 
    <span class="s">"nick"</span><span class="o">:</span> <span class="s">"GGaribaldi"</span><span class="o">,</span> 
    <span class="s">"followings"</span><span class="o">:</span> <span class="o">[],</span> 
    <span class="s">"followers"</span><span class="o">:</span> <span class="o">[],</span> 
    <span class="s">"name"</span><span class="o">:</span> <span class="s">"Giuseppe"</span><span class="o">,</span> 
    <span class="s">"surname"</span><span class="o">:</span> <span class="s">"Garibaldi"</span><span class="o">,</span> 
    <span class="s">"location"</span><span class="o">:</span> <span class="s">"11:0"</span><span class="o">,</span> 
    <span class="s">"invitedBy"</span><span class="o">:</span> <span class="kc">null</span><span class="o">,</span> 
    <span class="s">"sex"</span><span class="o">:</span> <span class="s">"male"</span><span class="o">,</span> 
    <span class="s">"online"</span><span class="o">:</span> <span class="kc">true</span>
  <span class="o">}</span>
</pre></div>

<h4>Allocation</h4>

<h5>GET - Allocation</h5>

<p>Retrieve information about the storage space of a disk-based database.</p>

<p>Syntax: http://:[]/allocation/</p>

<h5>Example</h5>

<p>HTTP GET request: <code>http://localhost:2480/allocation/demo</code>
HTTP response:
18814ef0163abe80ae07d414228be47a</p>

<h4>Index</h4>

<p><em>NOTE: Every single new database has the default manual index called "dictionary".</em></p>

<h5>GET - Index</h5>

<p>Retrieve a record looking into the index.</p>

<p>Syntax: <code>http://&lt;server&gt;:<a href="&amp;lt;port&amp;gt;%5D/allocation/&amp;lt;database&amp;gt;%3C/code">&lt;port&gt;</a>/index//}}}</code></p>

<h5>Example</h5>

<p>HTTP GET request: <code>http://localhost:2480/dictionary/test</code>
HTTP response:
</p><div class="highlight"><pre>  <span class="o">{</span>
    <span class="s">"name"</span> <span class="o">:</span> <span class="s">"Jay"</span><span class="o">,</span>
    <span class="s">"surname"</span> <span class="o">:</span> <span class="s">"Miner"</span>
  <span class="o">}</span>
</pre></div>

<h5>PUT - Index</h5>

<p>Create or modify an index entry.</p>

<p>Syntax: http://:[]/index//</p>

<h5>Example</h5>

<p>HTTP PUT request: <code>http://localhost:2480/dictionary/test</code>
5f9ad12713b97df592dd67bdeb8187db
HTTP response:
No response.</p>

<h5>DELETE - Index</h5>

<p>Remove an index entry.</p>

<p>Syntax: <code>http://&lt;server&gt;:<a href="&amp;lt;port&amp;gt;%5D/index/&amp;lt;index-name&amp;gt;/&amp;lt;key&amp;gt;%3C/code">&lt;port&gt;</a>/index//}}}</code></p>

<h5>Example</h5>

<p>HTTP DELETE request: <code>http://localhost:2480/dictionary/test</code>
HTTP response:
No response.</p>

<h4>Query</h4>

<h5>GET - Query</h5>

<p>Execute a query against the database. Query means only idempotent commands like SQL SELECT and TRAVERSE. Idempotent means the command is read-only and can't change the database. Remember that in IE6 the URL can be maximum of 2,083 characters. Other browsers supports major length, but if you want to stay compatible with all limit to 2,083 characters.</p>

<p>Syntax: {{{http://:[Where:</p>

<ul>
<li>
<em><code>&lt;language&gt;</code></em> is the name of the language between those supported. OrientDB distribution comes with "sql" and GraphDB distribution has both "sql" and "gremlin"</li>
<li>
<em><code>query-text</code></em> is the text containing the query to execute</li>
<li>
<em><code>limit</code></em> is the maximum number of record to return. Optional, default is 20</li>
<li>
<em><code>fetchPlan</code></em> is the fetching strategy to use. For more information look at <a class="internal present" href="/orientdb/wiki/Fetching-Strategies.html">Fetching Strategies</a>. Optional, default is *:1 (1 depth level only)</li>
</ul><h5>Example</h5>

<p>HTTP GET request: <code>http://localhost:2480/query/demo/sql/select from Profile</code></p>

<p>HTTP response:
</p><div class="highlight"><pre>  <span class="o">{</span> <span class="s">"result"</span><span class="o">:</span> <span class="o">[</span>
  <span class="o">{</span>
    <span class="s">"_id"</span><span class="o">:</span> <span class="s">"-3:1"</span><span class="o">,</span> 
    <span class="s">"_ver"</span><span class="o">:</span> <span class="mi">0</span><span class="o">,</span> 
    <span class="s">"@class"</span><span class="o">:</span> <span class="s">"Address"</span><span class="o">,</span> 
    <span class="s">"type"</span><span class="o">:</span> <span class="s">"Residence"</span><span class="o">,</span> 
    <span class="s">"street"</span><span class="o">:</span> <span class="s">"Piazza di Spagna"</span><span class="o">,</span> 
    <span class="s">"city"</span><span class="o">:</span> <span class="s">"-4:0"</span>
  <span class="o">},</span>
  <span class="o">{</span>
    <span class="s">"_id"</span><span class="o">:</span> <span class="s">"-3:2"</span><span class="o">,</span> 
    <span class="s">"_ver"</span><span class="o">:</span> <span class="mi">0</span><span class="o">,</span> 
    <span class="s">"@class"</span><span class="o">:</span> <span class="s">"Address"</span><span class="o">,</span> 
    <span class="s">"type"</span><span class="o">:</span> <span class="s">"Residence"</span><span class="o">,</span> 
    <span class="s">"street"</span><span class="o">:</span> <span class="s">"test"</span><span class="o">,</span> 
    <span class="s">"city"</span><span class="o">:</span> <span class="s">"-4:1"</span>
  <span class="o">}]</span> <span class="o">}</span>
</pre></div>

<p>The same query with the limit to maximum 20 results using the fetch plan *:-1 that means load all recursively:</p>

<p>HTTP GET request: <code>http://localhost:2480/query/demo/sql/select from Profile/20/*:-1</code></p>

<h4>Server</h4>

<h5>GET - Server</h5>

<p>Retrieve information about the connected OrientDB Server. Requires additional authentication to the server.</p>

<p>Syntax: <code>http://&lt;server&gt;:<a href="&amp;lt;port&amp;gt;%5D/query/&amp;lt;database&amp;gt;/&amp;lt;language&amp;gt;/&amp;lt;query-text&amp;gt;%5B/&amp;lt;limit&amp;gt;%5D%5B/&amp;lt;fetchPlan&amp;gt;%5D%3C/code%3E%3Cbr/">&lt;port&gt;</a>/server}}}</code></p>

<h5>Example</h5>

<p>HTTP GET request: <code>http://localhost:2480/server</code>
HTTP response:
</p><div class="highlight"><pre>  <span class="o">{</span>
    <span class="s">"connections"</span><span class="o">:</span> <span class="o">[{</span>
      <span class="s">"id"</span><span class="o">:</span> <span class="s">"4"</span><span class="o">,</span> 
      <span class="s">"id"</span><span class="o">:</span> <span class="s">"4"</span><span class="o">,</span> 
      <span class="s">"remoteAddress"</span><span class="o">:</span> <span class="s">"0:0:0:0:0:0:0:1:52504"</span><span class="o">,</span> 
      <span class="s">"db"</span><span class="o">:</span> <span class="s">"-"</span><span class="o">,</span> 
      <span class="s">"user"</span><span class="o">:</span> <span class="s">"-"</span><span class="o">,</span> 
      <span class="s">"protocol"</span><span class="o">:</span> <span class="s">"HTTP-DB"</span><span class="o">,</span> 
      <span class="s">"totalRequests"</span><span class="o">:</span> <span class="s">"1"</span><span class="o">,</span> 
      <span class="s">"commandInfo"</span><span class="o">:</span> <span class="s">"Server status"</span><span class="o">,</span> 
      <span class="s">"commandDetail"</span><span class="o">:</span> <span class="s">"-"</span><span class="o">,</span> 
      <span class="s">"lastCommandOn"</span><span class="o">:</span> <span class="s">"2010-05-26 05:08:58"</span><span class="o">,</span> 
      <span class="s">"lastCommandInfo"</span><span class="o">:</span> <span class="s">"-"</span><span class="o">,</span> 
      <span class="s">"lastCommandDetail"</span><span class="o">:</span> <span class="s">"-"</span><span class="o">,</span> 
      <span class="s">"lastExecutionTime"</span><span class="o">:</span> <span class="s">"0"</span><span class="o">,</span> 
      <span class="s">"totalWorkingTime"</span><span class="o">:</span> <span class="s">"0"</span><span class="o">,</span> 
  <span class="o">...</span>
</pre></div>


  </div>

</div>

<footer>
  <div class="row">
    <div class="six columns">
      <ul class="inline-list">
        <li><a href="/orientdb/"> Home</a></li>
<li><a href="/orientdb/about.html"> About</a></li>
<li class="active"><a href="/orientdb/wiki/Home.html"> Documentation</a></li>
<li><a href="/orientdb/wiki/Download.html"> Downloads</a></li>
<li><a href="/orientdb/community.html"> Community</a></li>
      </ul>
    </div>
    <div class="six columns">
      <p class="copyright">
        Copyright &copy; 2011-2012 NuvolaBase Ltd. <br/>
        <span class="small">NuvolaBase is a registered trademark. All Rights Reserved.</span>
      </p>
    </div>
  </div>
</footer>

<script src="../javascripts/app.js" type="text/javascript"></script>

</body>
</html>